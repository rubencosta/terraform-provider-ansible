---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "ansible_playbook Resource - terraform-provider-ansible"
subcategory: ""
description: |-
  
---

# ansible_playbook (Resource)

Provides an Ansible playbook resource.

## Example Usage
```terraform
resource "ansible_playbook" "playbook" {
  replayable = true
  playbook   = "playbook.yaml"
  inventory_hosts = [{
    name   = my_server.ipv4_address
    groups = ["group_a"]
    variables = yamlencode({
      ansible_user = "admin"
      var_a        = "Host specific variable"
      var_b = [{
        nested_object_property = "Works"
      }]
    })
  }]
  inventory_groups = [{
    name = "group_parent"
    children = [
      "group_a",
    ]
    variables = yamlencode({
      group_var_a = "Group variable"
    })
  }]
  extra_vars = yamlencode({
    ansible_config_file = "${path.module}/ansible.cfg"
  })
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `inventory_hosts` (Attributes List) (see [below for nested schema](#nestedatt--inventory_hosts))
- `playbook` (String) Path to ansible playbook.

### Optional

- `ansible_playbook_binary` (String) Path to ansible-playbook executable (binary).
- `check_mode` (Boolean) If 'true', playbook execution won't make any changes but only change predictions will be made.
- `diff_mode` (Boolean) If 'true', when changing (small) files and templates, differences in those files will be shown. Recommended usage with 'check_mode'.
- `extra_vars` (String) A string of json or yaml encoded map of additional variables as: { var-1 = {key-1 = value-1, key-2 = value-2, ... }, ... }.
- `force_handlers` (Boolean) If 'true', run handlers even if a task fails.
- `ignore_playbook_failure` (Boolean) This parameter is good for testing. Set to 'true' if the desired playbook is meant to fail, but still want the resource to run successfully.
- `inventory_groups` (Attributes List) (see [below for nested schema](#nestedatt--inventory_groups))
- `replayable` (Boolean) If 'true', the playbook will be executed on every 'terraform apply' and with that, the resource will be recreated. If 'false', the playbook will be executed only on the first 'terraform apply'. Note, that if set to 'true', when doing 'terraform destroy', it might not show in the destroy output, even though the resource still gets destroyed.
- `tags` (List of String) List of tags of plays and tasks to run.
- `timeouts` (Attributes) (see [below for nested schema](#nestedatt--timeouts))
- `verbosity` (Number) A verbosity level between 0 and 6. Set ansible 'verbose' parameter, which causes Ansible to print more debug messages. The higher the 'verbosity', the more debug details will be printed.

### Read-Only

- `ansible_playbook_stderr` (String) An ansible-playbook CLI stderr output.
- `ansible_playbook_stdout` (String) An ansible-playbook CLI stdout output.
- `cmd` (String) The command used to run ansible-playbook
- `id` (String) The ID of this resource.
- `temp_inventory_dir` (String) Path to created temporary inventory dir.

<a id="nestedatt--inventory_hosts"></a>
### Nested Schema for `inventory_hosts`

Required:

- `name` (String) Name of the host.

Optional:

- `groups` (List of String) List of group names.
- `variables` (String) yaml encoded map of variables.


<a id="nestedatt--inventory_groups"></a>
### Nested Schema for `inventory_groups`

Required:

- `name` (String) Name of the host.

Optional:

- `children` (List of String) List of group names.
- `variables` (String) yaml encoded map of variables.


<a id="nestedatt--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String) Amount of time your playbook will run before timing out when being created. Defaults to 60m
- `update` (String) Amount of time your playbook will run before timing out when being updated. Defaults to 60m



